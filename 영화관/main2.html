<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>좌석</title>
    <link rel="stylesheet" href="css/style2.css">
</head>
<body>
    <div class="container">
    <nav class="navi">
        <ul>
            <li><a href="main1.html#intro">이용 안내</a></li>
            <li><a href="main1.html#movie">영화 소개</a></li>
            <li><a href="main1.html#booking">예약 방법 및 요금</a></li>
            <li><a href="main1.html">예약하기</a></li>
        </ul>
    </nav>
</div>

    <div id="container">
<select name="영화관" id="place">
    <option value="1관">1관</option>
    <option value="2관">2관</option>
    <option value="3관">3관</option>
</select>

<div id="screen">Screen</div>
        <div id="content">

        </div>

        <div id="box">
            <span>선택된 좌석  </span><span id="result"></span>
        </div>
</div>

<script>
let row = 6;
let col = 8;
let result = document.querySelector('#result')
let list = [];
let div = document.createElement('div')
for(i=0; i<row; i++){
    document.createElement('div')
    for(j=0; j<col; j++){
        let span = document.createElement('span')
        let text = document.createTextNode(`${i*col+j+1}`);
        span.setAttribute('id',`${i*col+j+1}`)
        span.setAttribute('class','seat')
        span.appendChild(text);
        div.appendChild(span)
    }
}
let content = document.querySelector('#content')
    content.appendChild(div)

let seats = document.querySelectorAll('.seat')
   let change = function(){
    if(list.includes(this.id)){
        for(let i=0; i<list.length; i++){
        if(list[i] === this.id){
            list.splice(i,1);
            this.style.backgroundColor = 'white'
            this.style.color='black'
            this.style.boxShadow ='none'
            result.innerHTML = list
            i--;}
    }}else{
        this.style.backgroundColor = 'purple'
    this.style.color = 'white'
    this.style.boxShadow ='2px 2px 2px 2px #ccc'
    list.push(this.id)
    result.innerHTML = list
    }
   }
   seats.forEach((item)=>{
    item.addEventListener('click',change)
   })







//   let seatList =[]
//   let booking = (event,i,j) =>{
//     let num = i*8+j+1
//   if(event.target.style.backgroundColor==='white'){
//     seatList.push(num)
//     event.target.backgroundColor = 'black'
//   }else{
//     if(seatList.indexOf(num)!==-1){
//     tmp = seatList.indexOf(num)
//     seatList =  seatList.splice(tmp,1)
//     event.target.backgroundColor='white'
//     }
//   }
// }
//   td.addEventListener('click',(event)=>booking(event,i,j))

</script>

</body>
</html>